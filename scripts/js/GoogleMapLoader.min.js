export class GoogleMapLoader{constructor(key){this.apiKey=key;if(!window.GoogleMapLoader){this.callbackName="GoogleMapLoader.mapLoaded";window.GoogleMapLoader=this;window.GoogleMapLoader.mapLoaded=this.isMapLoaded.bind(this)}}load(){if(!this.promise){this.promise=new Promise(resolve=>{this.resolve=resolve;if(typeof window.google==="undefined"){let script=document.createElement("script");script.src=`//maps.googleapis.com/maps/api/js?key=${this.apiKey}&callback=${this.callbackName}`;script.async=true;document.body.append(script)}else{this.resolve()}})}return this.promise}isMapLoaded(){if(this.resolve){this.resolve()}}}